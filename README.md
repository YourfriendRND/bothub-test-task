# Тестовое задание

## Тестовое задание для Back-end Node.js разработчика:
Разработка RESTful API для управления коллекцией книг с расширенными функциями

#### Описание

Вам нужно разработать RESTful API для управления коллекцией книг.<br>
API должно позволять пользователям добавлять книги, просматривать<br>
список книг, обновлять информацию о книгах и удалять книги. Кроме<br>
того, API должно иметь функции для управления пользователями и их<br>
ролями с использованием битовых масок.<br>
<br>

1. Добавление книги
- HTTP метод: POST
- Эндпоинт: /books
- Тело запроса: JSON с полями title, author, publicationDate, genres
- Ответ: JSON с данными добавленной книги
- Требует аутентификации (только для пользователей с ролью "администратор")
<br>

2. Получение списка книг
- HTTP метод: GET
- Эндпоинт: /books
- Ответ: JSON массив с данными всех книг
<br>

3. Получение книги по ID
- HTTP метод: GET
- Эндпоинт: /books/:id
- Ответ: JSON с данными книги
<br>

4. Обновление информации о книге
- HTTP метод: PUT
- Эндпоинт: /books/:id
- Тело запроса: JSON с полями title, author, publicationDate, genres
- Ответ: JSON с данными обновленной книги
- Требует аутентификации (только для пользователей с ролью "администратор")
<br>

5. Удаление книги
- HTTP метод: DELETE
- Эндпоинт: /books/:id
- Требует аутентификации (только для пользователей с ролью "администратор")
<br>

6. Регистрация пользователя
- HTTP метод: POST
- Эндпоинт: /users/register
- Тело запроса: JSON с полями username, password, email
- Подтверждение email через письмо
- Ответ: JSON с данными зарегистрированного пользователя
<br>

7. Аутентификация пользователя
- HTTP метод: POST
- Эндпоинт: /users/login
- Тело запроса: JSON с полями username, password
- Ответ: JSON с токеном JWT
<br>

8. Получение информации о текущем пользователе
- HTTP метод: GET
- Эндпоинт: /users/me
- Ответ: JSON с данными текущего пользователя
- Требует аутентификации
<br>

9. Изменение роли пользователя
- HTTP метод: PUT
- Эндпоинт: /users/:id/role
- Тело запроса: JSON с полем role (используйте битовые маски для ролей)
- Ответ: JSON с данными обновленного пользователя
- Требует аутентификации (только для пользователей с ролью "администратор")
<br>

##### Требования
- Использовать Node.js и фреймворк Express.js
- Использовать TypeScript
- Использовать СУБД PostgreSQL
- Использовать ORM PrismaORM
- Код должен быть хорошо структурирован и читабелен
- Реализация аутентификации и авторизации с использованием JWT
<br>

##### Необязательно, но будет плюсом:
- Завернуть всё в Docker
<br>

##### Оценка
Ваше задание будет оцениваться по следующим критериям:
- Правильность работы API
- Чистота и структура кода
- Использование лучших практик разработки
